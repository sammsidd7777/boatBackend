const express=require('express')
const User= require("../models/UserModels")



exports.addAddress=async(req,res)=>{
    try {
        const{email,FlatNo,AddressNo,city,state,pinCode}= req.body;
     
        const user = await User.findOne({email: email}); 
        
        if(!user) throw new Error("User not found");
        
        else{
            user.Address.push({FlatNo,AddressNo,city,state,pinCode});
            await user.save();
            console.log(user) 

            res.status(200).json({status: "OK", message: "Address added successfully"})
        }

       
         

        
    } catch (error) {
     res.status(400).json({status: "error", message: "something went wrong"})  
     console.log(error);
     
    }
}





















































































































































































































































































